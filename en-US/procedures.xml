<chapter id="_runbook_procedures">
<title>Runbook Procedures</title>
<section id="_build_and_run_a_development_installation">
<title>Build and run a development installation</title>
<simpara>These steps install numerous dependencies required
to build and run a development installation of Eureka Streams.
This procedure is based on the instructions at
<ulink url="http://www.eurekastreams.org/build-and-run/">http://www.eurekastreams.org/build-and-run/</ulink>.</simpara>
<section id="_install_prerequisite_packages">
<title>Install prerequisite packages</title>
<simpara>These steps use <literal>sudo</literal> to run commands as <literal>root</literal>.
You could also run <literal>sudo -i</literal> to become <literal>root</literal>.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Install <literal>memcached</literal>
</simpara>
<screen>sudo yum -y install memcached
sudo /sbin/service memcached start
sudo /sbin/chkconfig memcached on</screen>
</listitem>
<listitem>
<simpara>
Install Git
</simpara>
<screen>sudo yum -y install git-all</screen>
</listitem>
<listitem>
<simpara>
Install Postgres client and server
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Install required packages
</simpara>
<screen>sudo yum -y install postgresql postgresql-server</screen>
</listitem>
<listitem>
<simpara>
Adjust authentication requirements
</simpara>
<screen>file=/var/lib/pgsql/data/pg_hba.conf
sudo sed -i 's/\(^[^#].*\)ident sameuser/\1 trust sameuser/' $file</screen>
</listitem>
<listitem>
<simpara>
Start the database
</simpara>
<screen>sudo /sbin/service postgresql initdb
sudo /sbin/service postgresql start
sudo /sbin/chkconfig postgresql on</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Install Java from <ulink url="http://www.java.com/en">http://www.java.com/en</ulink>
</simpara>
</listitem>
</orderedlist>
</section>
<section id="_install_and_configure_maven">
<title>Install and configure Maven</title>
<simpara>These steps install Maven2 using the binary distribution
from the Apache web site.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Download Maven2
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Open <ulink url="http://maven.apache.org/download.html">http://maven.apache.org/download.html</ulink> in your browser
</simpara>
</listitem>
<listitem>
<simpara>
Click on the link for the current version of Maven2 to
see a list of download mirrors
</simpara>
</listitem>
<listitem>
<simpara>
The top of the page suggests a mirror based on your IP
</simpara>
</listitem>
<listitem>
<simpara>
Download the tarball using your browser, <literal>curl</literal>, or <literal>wget</literal>
</simpara>
<screen>url=http://apache.inetbridge.net/maven/binaries/apache-maven-2.2.1-bin.tar.gz
wget -P /tmp $url</screen>
</listitem>
<listitem>
<simpara>
List the contents of the tarball
</simpara>
<screen>tar tzf apache-maven-2.2.1-bin.tar.gz</screen>
<simpara>With my download, the tarball contains:</simpara>
<screen>apache-maven-2.2.1/boot/classworlds-1.1.jar
apache-maven-2.2.1/LICENSE.txt
apache-maven-2.2.1/NOTICE.txt
apache-maven-2.2.1/README.txt
apache-maven-2.2.1/bin/m2.conf
apache-maven-2.2.1/bin/mvn.bat
apache-maven-2.2.1/bin/mvnDebug.bat
apache-maven-2.2.1/bin/mvn
apache-maven-2.2.1/bin/mvnDebug
apache-maven-2.2.1/conf/
apache-maven-2.2.1/conf/settings.xml
apache-maven-2.2.1/lib/maven-2.2.1-uber.jar</screen>
</listitem>
<listitem>
<simpara>
Optionally, download the PDF documentation for offline viewing
</simpara>
<screen>url=http://maven.apache.org/apache-maven.pdf
wget -P ~/ $url</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Extract the tarball into <literal>/usr/local</literal>
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Become <literal>root</literal>
</simpara>
<screen>sudo -i</screen>
<note><simpara>If you have not setup <literal>/etc/sudoers</literal>, use <literal>su -</literal></simpara></note>
</listitem>
<listitem>
<simpara>
Extract the tarball
</simpara>
<screen>dest=/usr/local
src=/tmp/apache-maven-2.2.1-bin.tar.gz
tar xvzf $src -C $dest</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Update the <literal>$PATH</literal> environment variable
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
As <literal>root</literal>, create <literal>/etc/profile.d/apache-maven.sh</literal>
</simpara>
<screen># add extra paths to PATH environment var
export M2_HOME=/usr/local/apache-maven-2.2.1
export M2=$M2_HOME/bin
paths="
$M2
"
for path in ${paths}; do
  if ! echo ${PATH//:/\\n} | /bin/egrep "^${path}$" ; then
    PATH=${PATH}:${path}
  fi
done

# optionally set maven options
#MAVEN_OPTS="-Xms256m -Xmx512m"</screen>
</listitem>
<listitem>
<simpara>
As yourself, source the new path and confirm there are no typos
</simpara>
<screen>. /etc/profile.d/apache-maven.sh
echo $M2_HOME
echo $M2
echo $PATH
which mvn</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Update <literal>$JAVA_HOME</literal>
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Determine which Java your system is using
</simpara>
<screen>alternatives --config java</screen>
<simpara>This will display something similar to:</simpara>
<screen>There are 4 programs which provide 'java'.

  Selection    Command
 -----------------------------------------------
   1           /usr/lib/jvm/jre-1.6.0-openjdk/bin/java
   2           /usr/lib/jvm/jre-1.5.0-gcj/bin/java
   3           /usr/java/jre1.6.0_16/bin/java
*+ 4           /usr/java/latest/bin/java

Enter to keep the current selection[+], or type selection number:</screen>
<simpara>Press <literal>Enter</literal> to avoid changes.</simpara>
</listitem>
<listitem>
<simpara>
As <literal>root</literal>, create <literal>/etc/profile.d/java-home.sh</literal>
</simpara>
<screen>_java=$(readlink /etc/alternatives/java)
export JAVA_HOME=${_java%%bin*}
export PATH=$PATH:$JAVA_HOME/bin</screen>
</listitem>
<listitem>
<simpara>
Source the above file and confirm <literal>JAVA_HOME</literal>
is correctly set
</simpara>
<screen>. /etc/profile.d/java-home.sh
echo $JAVA_HOME</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Optionally, create <literal>~/.m2/settings.xml</literal> per <ulink url="http://maven.apache.org/settings.html">http://maven.apache.org/settings.html</ulink>
</simpara>
</listitem>
</orderedlist>
</section>
<section id="_retrieve_source_code_for_eureka_streams">
<title>Retrieve source code for Eureka Streams</title>
<simpara>These steps use <literal>git</literal> to clone the Eureka Streams source code
from Github.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Become <literal>root</literal> with a login shell
</simpara>
<screen>sudo -i</screen>
</listitem>
<listitem>
<simpara>
Clone the repo to an appropriate location
</simpara>
<screen>pushd /opt
git clone http://github.com/lmco/eurekastreams.git
popd</screen>
</listitem>
</orderedlist>
</section>
<section id="_install_maven_dependencies">
<title>Install Maven dependencies</title>
<simpara>These steps install the Apache Shindig Social Connector using
the source from the Eureka Streams repository.
Eureka Streams depends on a specific version of Shindig
that is currently unavailable in the Apache public repository.</simpara>
<note><simpara>These steps assume you are still logged in as <literal>root</literal>.
If you have the electronic copy of this document, simply copy
and paste.</simpara></note>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Change into the top level directory of the Eureka Streams local repo:
</simpara>
<screen>cd /opt/eurekastreams</screen>
</listitem>
<listitem>
<simpara>
Install Shindig
</simpara>
<important><simpara>Your development workstation must be able to access the
Internet for these steps to succeed.</simpara></important>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Common components
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-common-3.3.jar \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-common -Dversion=3.3 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 45 seconds
[INFO] Finished at: Fri Aug 13 15:48:10 EDT 2010
[INFO] Final Memory: 6M/54M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Features
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-features-3.3.jar \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-features -Dversion=3.3 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:50:53 EDT 2010
[INFO] Final Memory: 5M/52M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Gadgets
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-gadgets-3.3.jar \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-gadgets -Dversion=3.3 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:52:23 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Server
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-server-3.3.war \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-server -Dversion=3.3 \
        -Dpackaging=war -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:53:03 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Social API
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-social-api-3.3.jar \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-social-api -Dversion=3.3 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:53:57 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Common
</simpara>
<screen>mvn install:install-file -Dfile=lib/shindig-common-3.3-tests.jar \
        -DgroupId=org.apache.shindig \
        -DartifactId=shindig-common -Dversion=3.3 \
        -Dpackaging=test-jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:54:31 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
GWT DND
</simpara>
<screen>mvn install:install-file -Dfile=lib/gwt-dnd-2.6.5.2.jar \
        -DgroupId=com.google.code.gwt-dnd \
        -DartifactId=gwt-dnd -Dversion=2.6.5.2 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:55:09 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
Carousel
</simpara>
<screen>mvn install:install-file -Dfile=lib/carousel-0.6.1.jar \
        -DgroupId=com.gwtyuicarousel \
        -DartifactId=carousel -Dversion=0.6.1 \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri Aug 13 15:55:51 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
<listitem>
<simpara>
URLrewrite
</simpara>
<screen>mvn install:install-file -Dfile=lib/urlrewrite-3.2.0-beta.jar \
        -DgroupId=org.tuckey \
        -DartifactId=urlrewrite -Dversion=3.2.0-beta \
        -Dpackaging=jar -DgeneratePom=true</screen>
<simpara>The above command will download components from the Internet,
install components, and report its final status:</simpara>
<screen>[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: &lt; 1 second
[INFO] Finished at: Fri Aug 13 15:56:39 EDT 2010
[INFO] Final Memory: 5M/53M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section id="_compile_eureka_streams">
<title>Compile Eureka Streams</title>
<simpara>These steps compile the Eureka Streams source code and install binaries.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Define some preferences
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Create <literal>/opt/eurekastreams/myprefs.sh</literal>
</simpara>
<screen>dbserver=127.0.0.1
dbname=eurekastreams
dbuser=eruekastreams
export WEBPORT=80
export GRWEBPORT=8080
lucene_indexdir=/opt/lucene/index
lucene_sourcedir=/opt/lucene/source
cache="localhost:11211"
baseurl="http://$(hostname):$WEBPORT"
grbaseurl="http://$(hostname):$GRWEBPORT"</screen>
</listitem>
<listitem>
<simpara>
Check the file into Git
</simpara>
<screen>pushd /opt/eurekastreams
git add myprefs.sh
git commit -m 'save my preferences'</screen>
</listitem>
<listitem>
<simpara>
Source the above file and make directories
</simpara>
<screen>source /opt/eurekastreams/myprefs.sh
mkdir -p $lucene_indexdir
mkdir -p $lucene_sourcedir</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Compile the application and test suite
</simpara>
<note><simpara>Optionally, append <literal>-DskipTests</literal> to avoid creating the test suite.</simpara></note>
<screen>. /opt/eurekastreams/myprefs.sh
mvn clean install -Dopenaccess-security        \
        -Dbuild.db.dbname=$dbname                  \
        -Dbuild.db.dbuser=$dbuser                  \
        -Dbuild.web.baseurl=$baseurl               \
        -Dbuild.web.grbaseurl=$grbaseurl           \
        -Dbuild.db.servername=$dbserver            \
        -Dbuild.lucene.indexdir=$lucene_indexdir   \
        -Dbuild.lucene.sourcedir=$lucene_sourcedir \
        -Dbuild.cache.servernames=$cache</screen>
<simpara>The above command will take a while to complete.
When it does finish, you should see output
such as:</simpara>
<screen>[INFO]
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] ------------------------------------------------------------------------
[INFO] Eureka Streams Parent ................................. SUCCESS [2:41.986s]
[INFO] Eureka Streams Server ................................. SUCCESS [8:03.509s]
[INFO] Eureka Streams Shared Resources ....................... SUCCESS [53.290s]
[INFO] Eureka Streams Task Queue Processor ................... SUCCESS [1:16.774s]
[INFO] Eureka Streams Database Resources ..................... SUCCESS [0.579s]
[INFO] Eureka Streams Web .................................... SUCCESS [6:07.956s]
[INFO] ------------------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 19 minutes 4 seconds
[INFO] Finished at: Sun Aug 15 11:09:27 EDT 2010
[INFO] Final Memory: 94M/251M
[INFO] ------------------------------------------------------------------------</screen>
</listitem>
</orderedlist>
</section>
<section id="_build_database">
<title>Build database</title>
<simpara>These steps setup a Postgres database for Eureka Streams.
You should be <literal>root</literal> for the following steps unless
otherwise stated.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Create a <literal>eurekastreams</literal> user
</simpara>
<screen>username=eurekastreams
password=somepassword
useradd -r -m -d /home/$username
echo $password | passwd --stdin $username</screen>
</listitem>
<listitem>
<simpara>
Confirm Postgres installation
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Ensure Postgress authentication is correctly set
in <literal>/var/lib/pgsql/data/pg_hba.conf</literal>:
</simpara>
<screen># TYPE  DATABASE    USER        CIDR-ADDRESS      METHOD

# "local" is for Unix domain socket connections only
local   all         all                           ident sameuser
# IPv4 local connections:
host    all         all         127.0.0.1/32      ident sameuser
# IPv6 local connections:
host    all         all         ::1/128           ident sameuser</screen>
</listitem>
<listitem>
<simpara>
Ensure Postgres is running
</simpara>
<screen>service postgresql status</screen>
<simpara>Example output:</simpara>
<screen>postmaster (pid 3063 3062 3061 3060 2994 2375) is running...</screen>
</listitem>
<listitem>
<simpara>
Ensure Postgres is running on the expected port
</simpara>
<screen>netstat -tulpn | grep postmaster</screen>
<simpara>Expected output:</simpara>
<screen>tcp  0  0 127.0.0.1:5432     0.0.0.0:*    LISTEN      2375/postmaster</screen>
<simpara>This shows that Postgres is listening on port 5432 of the loopback interface,
as expected.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Create a Postgres database
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
As <literal>root</literal>, become the <literal>postgres</literal> user and start the Postgres client
</simpara>
<screen>su - postgres
psql</screen>
</listitem>
<listitem>
<simpara>
At the <literal>psql</literal> prompt (looks like <literal>postgres=#</literal>), list existing databases
</simpara>
<screen>\l</screen>
<simpara>A default installation will probably reflect the following output:</simpara>
<screen>          List of databases
      Name      |  Owner   | Encoding
 ---------------+----------+----------
  postgres      | postgres | UTF8
  template0     | postgres | UTF8
  template1     | postgres | UTF8
 (4 rows)</screen>
</listitem>
<listitem>
<simpara>
Create a database as specified in <literal>/opt/eurekastreams/myprefs.sh</literal>
</simpara>
<screen>CREATE DATABASE eurekastreams;</screen>
<simpara>Postgres should respond with <literal>CREATE DATABASE</literal> to indicate success.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Create a Postgres user and password
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
At the <literal>psql</literal> prompt (looks like <literal>postgres=#</literal>), list existing users
</simpara>
<screen>\du</screen>
<simpara>The above command should show output similar to the following for a fresh installation:</simpara>
<screen>                               List of roles
  Role name | Superuser | Create role | Create DB | Connections | Member of
 -----------+-----------+-------------+-----------+-------------+-----------
  postgres  | yes       | yes         | yes       | no limit    | {}
 (1 row)</screen>
</listitem>
<listitem>
<simpara>
Create the user as defined in <literal>/opt/eurekastreams/myprefs.sh</literal>
</simpara>
<screen>CREATE USER eurekastreams WITH PASSWORD 'somepassword' CREATEDB SUPERUSER;</screen>
<simpara>Postgres should respond with <literal>CREATE ROLE</literal> to indicate success.</simpara>
</listitem>
<listitem>
<simpara>
Grant privileges to the <literal>eurekastreams</literal> user
</simpara>
<screen>GRANT ALL PRIVILEGES ON DATABASE eurekastreams to eurekastreams;</screen>
<simpara>Postgres should respond with <literal>GRANT</literal> to indicate success.</simpara>
</listitem>
<listitem>
<simpara>
Quit <literal>psql</literal>
</simpara>
<screen>\q</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>
Fix the database scripts
</simpara>
<screen>cd /opt/eurekastreams/web/target/classes/db/scripts
files="dev_reset_db.sh dev_apply_updates.sh"
for file in $files; do
  sed -i 's/scripts\$/scripts/g' $file
done</screen>
</listitem>
<listitem>
<simpara>
Populate the database
</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>
Become the <literal>eurekastreams</literal> user
</simpara>
<screen>su - eurekastreams</screen>
</listitem>
<listitem>
<simpara>
As the <literal>eurekastreams</literal> user, run the scripts to populate the database
</simpara>
<screen>. /opt/eurekastreams/myprefs
pushd /opt/eurekastreams/web/target/classes/db/scripts
./dev_reset_db.sh $dbname $dbuser $baseurl</screen>
<note><simpara>Something is wrong because the Eureka Streams SQL scripts
puke with a syntax error.</simpara></note>
<simpara>The log output from the above commands spews the following:</simpara>
<screen>2010-08-15-13:06:38 [INFO] ===== Updates Script Starting=====
2010-08-15-13:06:38 [INFO] No database found. Creating the eruekastreams user.
2010-08-15-13:06:38 [INFO] Eureka database version attempting to be applied: 0 9 38
2010-08-15-13:06:38 [INFO] Installing the baseline schema
2010-08-15-13:06:38 [INFO] Replacing tokens in /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_1_databasecreate.sql...
2010-08-15-13:06:38 [INFO] Executing /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_1_databasecreate.sql to initialize the database.
2010-08-15-13:06:45 [DEBUG] Output from execution: psql:/home/eurekastreams/tmp/2010-08-15-130638.sql_create.sql:26: ERROR: could not access file "/usr/lib64/pgsql/plpgsql.so": No such file or directory psql:/home/eurekastreams/tmp/2010-08-15-130638.sql_create.sql:29: NOTICE: using pg_pltemplate information instead of CREATE LANGUAGE parameters
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_2_tablecreates.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_33_coredatacopy.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_36_orgpeopledatacopy.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_4_tablealterscontraints.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_5_settings_tableindexes.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../schema/eurekastreams_6_updatecounts.sql to the master transaction script.
2010-08-15-13:06:45 [INFO] All schema scripts have been concatenated successfully.
2010-08-15-13:06:45 [DEBUG] Iterating from major version 0 to 0
2010-08-15-13:06:45 [DEBUG] Iterating through major version 0
2010-08-15-13:06:45 [DEBUG] Iterating from minor version 7 to 9
2010-08-15-13:06:45 [DEBUG] Iterating in version 0.7 from patch 1 to 0
2010-08-15-13:06:45 [DEBUG] Iterating in version 0.8 from patch 0 to 10
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0000VersionBaseline.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0001FeedAdditionalColumns.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0002PluginDefinitionTable.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0003FeedSubscriberTable.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0004FeedAddTitle.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0005PluginWarningColumn.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0006AddInitialPluginCatagory.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0007FeedAddLastPostDate.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0008ActivityAddAppColumns.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0009AddDefaultPlugins.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/8/U0010TermsOfServiceSizeIncrease.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [DEBUG] Iterating in version 0.9 from patch 0 to 38
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0000VersionBaseline.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0001NotificationPreferenceTable.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0002ApplicationAlertNotificationTableCreate.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0003ApplicationAlertNotificationAddTimestamp.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0004*.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0005TutorialVideoCreation.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0006GroupStreamUpdates.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0007StartVideoInsertion.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0008DirectoryVideoInsertion.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0009ActivityVideoInsertion.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0010MyProfileVideoInsertion.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0011ProfileFieldChanges.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0012ReformatPhoneNumbers.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0013UpdateTermsofServiceLength.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0014AddSupportColumnsToSystemSettings.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0015AddActivityFlaggedColumn.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0016UpdateStreamViewName.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0017AddGadgetMaximizedColumn.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0018AddBookmarkGadget.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0019RenameAlertColumns.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0020AlertDestTypeColumn.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0021RemoveBannerBackgroundColor.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0022UpdateDomainGroupMissionStatementLength.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0023RenameStarredStreamView.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0024ImageTable.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0025MakePeopleFollowThemselves.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0026ShrinkSystemSettingsSupportColumns.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0027ChangeOrgCountColumn.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0028RemoveOldTabGroupsLimitStartPageTabNameSize.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0029ApplicationAlertNotificationRefactor1.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0030RemoveReferencesToWeatherGadgetDefinition.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0031AddGroupMembershipRequestTable.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0032IntroVideoUpdates.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0033SystemSettingsColumnSizeUpdates.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0034RemovePrivateSearchableColumnFromDomainGroup.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0035RemoveZipCode.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0036LowercaseAllGroups.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0037RenameMissionStatementColumns.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] Concatenating /opt/eurekastreams/web/target/classes/db/scripts/../migration/0/9/U0038IntroVideoUpdates.sql to the full execution script.
2010-08-15-13:06:45
2010-08-15-13:06:45
2010-08-15-13:06:45 [INFO] All applicable scripts have been concatenated.
2010-08-15-13:06:45 [DEBUG] Replacing tokens in the database scripts...
2010-08-15-13:06:45 [INFO] Modifying the database...
2010-08-15-13:06:55 [DEBUG] Output from execution: SET SET SET SET SET SET SET SET CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE TABLE CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 CREATE TABLE CREATE SEQUENCE ALTER SEQUENCE 1 ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE SET SET SET SET SET SET SET SET 14 25 6 9 7 6 6 6 5 9 SET SET SET SET SET SET SET SET SET 1 1 6 6 6 6 5 psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:2678: WARNING: no privileges could be revoked for "public" REVOKE psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:2679: WARNING: no privileges could be revoked for "public" REVOKE psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:2680: WARNING: no privileges were granted for "public" GRANT psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:2681: WARNING: no privileges were granted for "public" GRANT CREATE FUNCTION SET SET SET SET SET SET SET SET ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE ALTER TABLE SET SET SET SET SET SET SET SET CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX CREATE INDEX UPDATE 1 UPDATE 1 UPDATE 1 UPDATE 0 CREATE FUNCTION DROP FUNCTION INSERT 0 1 INSERT 0 1 ALTER TABLE INSERT 0 1 CREATE TABLE ALTER TABLE ALTER TABLE ALTER TABLE DROP TABLE INSERT 0 1 CREATE TABLE ALTER TABLE ALTER TABLE INSERT 0 1 ALTER TABLE INSERT 0 1 ALTER TABLE INSERT 0 1 INSERT 0 1 INSERT 0 1 ALTER TABLE INSERT 0 1 ALTER TABLE INSERT 0 1 INSERT 0 4 INSERT 0 1 psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4518: ERROR: syntax error at or near "DATA" LINE 1: ...LE systemsettings ALTER COLUMN termsofservice SET DATA TYPE ... ^ psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4527: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4535: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4544: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4546: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4548: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4550: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4555: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4565: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4577: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4579: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4581: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4583: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4585: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4587: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4590: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4593: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4602: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4604: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4606: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4608: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4610: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4612: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4625: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4627: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4640: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4649: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4651: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4653: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4674: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4676: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4677: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4685: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4688: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4697: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4700: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4708: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4711: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4719: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4722: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4730: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4734: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4737: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4740: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4749: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4751: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4753: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4755: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4764: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4766: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4776: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4782: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4790: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4798: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4806: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4808: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4817: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4825: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4833: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4835: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4844: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4846: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4855: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4857: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4858: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4867: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4869: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4878: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4881: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4882: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4891: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4893: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4895: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4905: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4907: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4916: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4926: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4928: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4930: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4932: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4942: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4945: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4948: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4957: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4959: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4960: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4962: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4963: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4972: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4974: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4976: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4985: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4987: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4989: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4991: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4992: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4993: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4994: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4996: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4998: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:4999: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5000: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5001: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5003: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5011: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5014: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5017: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5023: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5034: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5043: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5070: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5072: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5073: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5081: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5088: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5093: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5098: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5107: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5111: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5115: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5123: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5127: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5136: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5139: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5147: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5150: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5158: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5161: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5164: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5167: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5170: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5178: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5183: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5188: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5193: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5202: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5206: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5210: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5214: ERROR: current transaction is aborted, commands ignored until end of transaction block psql:/home/eurekastreams/tmp/2010-08-15-130638.sql:5218: ERROR: current transaction is aborted, commands ignored until end of transaction block
2010-08-15-13:06:55 [ERROR] A problem occurred with the application of the latest scripts. Your database has not been updated. See the log file for details: /home/eurekastreams/logs/eurekastreams20100815-1306.log</screen>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
</section>
<section id="_build_and_install_an_rpm_for_production_use">
<title>Build and install an RPM for production use</title>
<simpara>stub text</simpara>
</section>
</chapter>
